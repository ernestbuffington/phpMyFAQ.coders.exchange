let saveVoting;document.addEventListener("DOMContentLoaded",()=>{"use strict";$("#submitfaq").on("click",()=>("undefined"!=typeof tinyMCE&&void 0!==tinyMCE&&(tinyMCE.get("answer").setContent(tinyMCE.activeEditor.getContent()),document.getElementById("answer").value=tinyMCE.activeEditor.getContent()),saveFormValues("savefaq","faq"),!1)),$("form#formValues").submit(()=>!1)}),document.addEventListener("DOMContentLoaded",()=>{"use strict";let e=0;$(".pmf-category-overview").find("li").not("ul:first").each(function(){if($(this).children("ul").length>0){$(this).addClass("pmf-main-category"),1===$(this).data("category-level")?$(this).prepend('<i class="fa fa-arrow-circle-o-right"></i> '):$(this).prepend('<i class="fa fa-circle-o"></i> ');const t=$(this).find("a:first");t.addClass("pmf-sub-category"),++e,t.parent("li").children("ul").length>1?t.parent("li").children("ul").addClass("pmf-sub-category-list"):++e}else $(this).prepend('<i class="fa fa-circle-o"></i> ')}),e>50?($(".pmf-main-category").find("ul").addClass("d-none"),$(".pmf-sub-category-list").addClass("d-none")):$(".pmf-main-category").find("ul").removeClass("d-none"),$(".fa.fa-arrow-circle-o-right").on("click",function(e){e.preventDefault();const t=$(this).parent("li");t.has("ul").length>0&&t.find("ul").slideToggle("slow",()=>{$(".pmf-main-category").find("ul").removeClass("d-none")})})}),$(()=>{"use strict";$(".show-comment-form").on("click",e=>{e.preventDefault(),$("#pmf-create-comment").removeClass("d-none"),document.getElementById("pmf-create-comment").scrollIntoView()}),$(".pmf-comments-show-more").on("click",function(e){e.preventDefault();const t=$(this).data("comment-id");var a;a=t,$(".comment-more-"+a).removeClass("d-none"),$(".comment-dots-"+a).addClass("d-none"),$(".comment-show-more-"+a).addClass("d-none")})}),$(document).ready(function(){"use strict";"undefined"!=typeof tinyMCE&&void 0!==tinyMCE&&tinyMCE.init({mode:"exact",language:"en",selector:"textarea#answer",theme:"modern",plugins:["advlist anchor autolink lists link image imagetools charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code codesample fullscreen colorpicker help","insertdatetime media nonbreaking save table contextmenu directionality textpattern","emoticons template paste textcolor toc"],relative_urls:!1,convert_urls:!1,remove_linebreaks:!1,use_native_selects:!0,paste_remove_spans:!0,entities:"10",entity_encoding:"raw",toolbar1:"formatselect | styleselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify | numlist bullist outdent indent | removeformat",toolbar2:"insertfile | paste codesample | link image preview media | forecolor backcolor emoticons | phpmyfaq",image_advtab:!0,image_class_list:[{title:"None",value:""},{title:"Responsive",value:"img-fluid"}],image_dimensions:!0,style_formats:[{title:"Headers",items:[{title:"h1",block:"h1"},{title:"h2",block:"h2"},{title:"h3",block:"h3"},{title:"h4",block:"h4"},{title:"h5",block:"h5"},{title:"h6",block:"h6"}]},{title:"Blocks",items:[{title:"p",block:"p"},{title:"div",block:"div"},{title:"pre",block:"pre"},{title:"code",block:"code"}]},{title:"Containers",items:[{title:"blockquote",block:"blockquote",wrapper:!0},{title:"figure",block:"figure",wrapper:!0}]}],paste_word_valid_elements:"b,strong,i,em,h1,h2,h3,h4,h5,h6",paste_data_images:!0,visualblocks_default_state:!0,end_container_on_empty_block:!0,extended_valid_elements:"code[class],video[*],audio[*],source[*],iframe[*]",removeformat:[{selector:"*",attributes:["style"],split:!1,expand:!1,deep:!0}],importcss_append:!0})}),$("pre code").each((e,t)=>{"use strict";hljs.highlightBlock(t)}),document.addEventListener("DOMContentLoaded",()=>{"use strict";if(document.querySelector("#rating span")){let e=parseInt(document.querySelector("#rating span").dataset.rating);0<e&&(e=Math.floor(e),$(".pmf-star-rating").children("span").each(function(){$(this).data("stars")<=e&&$(this).text("â˜…")}))}$("form#formValues").on("submit",function(e){return e.preventDefault(),saveFormValues("savecomment","comment"),!1}),$('[data-toggle="tooltip"]').tooltip()}),document.addEventListener("DOMContentLoaded",()=>{"use strict";$(".typeahead").typeahead({autoSelect:!0,delay:300,minLength:1,source:(e,t)=>{$.ajax({url:"ajaxresponse.php",type:"GET",dataType:"JSON",data:"search="+e,success:e=>{t(e.map(e=>({url:e.faqLink,question:e.faqQuestion,category:e.categoryName})))}})},displayText:e=>void 0!==e&&void 0!==e.question?e.question:e,afterSelect:e=>{window.location.href=e.url},matcher:e=>e})}),document.addEventListener("DOMContentLoaded",()=>{"use strict";window.saveFormValues=function(e,t){const a=$("#formValues"),s=$("#loader"),n=$("#"+t+"s");return s.show().fadeIn(400).html('<img src="assets/img/ajax-loader.gif">Saving ...'),$.ajax({type:"post",url:"ajaxservice.php?action="+e,data:a.serialize(),dataType:"json",cache:!1,success:function(e){void 0===e.success?(n.html('<p class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e.error+"</p>"),s.hide()):(n.html('<p class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e.success+"</p>"),n.fadeIn("slow"),s.hide(),$("#"+t+"Form").hide(),a[0].reset())}}),!1},saveVoting=function(e,t,a,s){const n=$("#votings"),o=$("#loader");return $.ajax({type:"post",url:"ajaxservice.php?action=savevoting",data:"type="+e+"&id="+t+"&vote="+a+"&lang="+s,dataType:"json",cache:!1,success:function(e){void 0===e.success?(n.append('<p class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e.error+"</p>"),o.hide()):(n.append('<p class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e.success+"</p>"),$("#rating").empty().append(e.rating),n.fadeIn("slow"),o.hide())}}),!1},window.checkQuestion=function(){const e=$("#formValues"),t=$("#loader"),a=$("#answerForm"),s=$("#answers"),n=$(".hint-search-suggestion");return t.show(),t.fadeIn(400).html('<img src="assets/img/ajax-loader.gif">Saving ...'),$.ajax({type:"post",url:"ajaxservice.php?action=savequestion",data:e.serialize(),dataType:"json",cache:!1,success:function(o){void 0===o.result&&void 0===o.success?($("#qerror").html('<p class="alert alert-danger"><button type="button" class="close" data-dismiss="alert">&times;</button>'+o.error+"</p>"),t.hide()):void 0===o.success?($("#qerror").empty(),n.removeClass("d-none"),$("#questionForm").fadeOut("slow"),a.html(o.result),a.fadeIn("slow"),t.hide(),e.append('<input type="hidden" name="save" value="1">'),$("#captcha").val("")):(s.html('<p class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button>'+o.success+"</p>"),s.fadeIn("slow"),a.fadeOut("slow"),n.fadeOut("slow"),t.hide(),e.hide())}}),!1},$("#captcha-button").on("click",function(){const e=$(this).data("action");$.ajax({url:"index.php?action="+e+"&gen=img&ck="+(new Date).getTime(),success:function(){const t=$("#captcha");$("#captchaImage").attr("src","index.php?action="+e+"&gen=img&ck="+(new Date).getTime()),t.val(""),t.focus()}})})}),$(document).ready(function(){"use strict";const e=$("#sql_type"),t=$("#sql_type option"),a=document.getElementById("sql_port"),s=$("#dbsqlite"),n=$("#dbdatafull");let o=2;$("#phpmyfaq-setup-form a.pmf-add-elasticsearch-host").on("click",e=>{if("add"===$(e.currentTarget).attr("data-action")){const e=document.querySelector("#elasticsearch_server-wrapper"),t=document.createElement("div");t.className="input-group";const a=document.createElement("input");a.className="form-control",a.className+=" mt-1",a.type="text",a.name="elasticsearch_server[]",a.placeholder=`127.0.0.${o++}:9200`,t.appendChild(a),e.append(t)}return!1}),e.on("change",e=>{switch(e.target.value){case"mysqli":a.value=3306,s.hide(),n.show();break;case"pgsql":a.value=5432,s.hide(),n.show();break;case"sqlsrv":a.value=1433,s.hide(),n.show();break;case"sqlite3":s.show(),n.hide();break;default:s.hide(),n.show()}}),1===t.length&&"sqlite3"===e.val()&&(s.show().removeClass("d-none"),n.hide());const i=$("div.setup-panel div a"),l=$(".setup-content"),r=$(".btn-next");l.hide(),i.on("click",function(e){e.preventDefault();const t=$($(this).attr("href")),a=$(this);a.hasClass("disabled")||(i.removeClass("btn-primary").addClass("btn-secondary"),a.removeClass("btn-secondary").addClass("btn-primary"),a.removeClass("disabled"),l.hide(),t.show(),t.find("input:eq(0)").focus())}),r.on("click",function(){let e=$(this).closest(".setup-content"),t=e.attr("id"),a=$('div.setup-panel div a[href="#'+t+'"]').parent().next().children("a"),s=e.find("input[type='text'],input[type='url'],input[type='email'],input[type='number'],input[type='password']"),n=!0;$(".form-group.row input").removeClass("is-invalid");for(let e=0;e<s.length;e++)console.log(s[e].validity.valid),s[e].validity.valid||(n=!1,$(s[e]).closest(".form-group.row input").addClass("is-invalid"));n&&a.removeAttr("disabled").trigger("click")}),$("div.setup-panel div a.btn-primary").trigger("click")});